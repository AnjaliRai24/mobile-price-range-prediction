# -*- coding: utf-8 -*-
"""Streamlit_app.py

Automatically generated by Colab.

Original file is located at
    https://colab.research.google.com/drive/1BpS_Fixz6cmWG4iFWpzjKbKpTJvY_Z81
"""

import streamlit as st
import pandas as pd
import joblib

model_data = joblib.load("price_range_model.joblib")
model = model_data["model"]
scaler = model_data["scaler"]
columns = model_data["columns"]

st.title("ðŸ“± Mobile Price Range Prediction App")
st.write("Enter your mobile specifications below to predict its price range (0 = Low, 3 = Very High).")

battery_power = st.number_input("Battery Power (mAh)", min_value=500, max_value=5000, value=2500)
ram = st.number_input("RAM (MB)", min_value=256, max_value=10000, value=4096)
px_height = st.number_input("Pixel Height", min_value=0, max_value=2000, value=1000)
px_width = st.number_input("Pixel Width", min_value=0, max_value=2000, value=1000)
int_memory = st.number_input("Internal Memory (GB)", min_value=2, max_value=512, value=64)
mobile_wt = st.number_input("Mobile Weight (grams)", min_value=80, max_value=250, value=150)
n_cores = st.slider("Number of Cores", 1, 8, 4)
clock_speed = st.slider("Clock Speed (GHz)", 0.5, 3.0, 1.8)
four_g = st.selectbox("4G Support", [0, 1])
three_g = st.selectbox("3G Support", [0, 1])
touch_screen = st.selectbox("Touch Screen", [0, 1])
wifi = st.selectbox("WiFi", [0, 1])

input_data = pd.DataFrame([{
    'battery_power': battery_power,
    'blue': 1,  # assume most phones have Bluetooth
    'clock_speed': clock_speed,
    'dual_sim': 1,
    'fc': 8,
    'four_g': four_g,
    'int_memory': int_memory,
    'm_dep': 0.5,
    'mobile_wt': mobile_wt,
    'n_cores': n_cores,
    'pc': 12,
    'px_height': px_height,
    'px_width': px_width,
    'ram': ram,
    'sc_h': 15,
    'sc_w': 7,
    'talk_time': 10,
    'three_g': three_g,
    'touch_screen': touch_screen,
    'wifi': wifi
}])[columns]

input_scaled = scaler.transform(input_data)

# Predict
if st.button("Predict Price Range"):
    prediction = model.predict(input_scaled)[0]
    ranges = {0: "Low Cost ðŸ’¸", 1: "Mid Range ðŸ’°", 2: "High Range ðŸ’Ž", 3: "Flagship ðŸš€"}
    st.success(f"Predicted Price Range: {ranges[prediction]}")